<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Econometrics Pro Tool</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f0f2f5; font-family: 'Segoe UI', sans-serif; }
        .navbar { background: #002366; color: white; padding: 20px; border-radius: 0 0 20px 20px; }
        .card { border-radius: 15px; border: none; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        .btn-analyze { background: #002366; color: white; border-radius: 10px; font-weight: bold; }
        .btn-analyze:hover { background: #003399; color: white; }
        .table-responsive { font-size: 0.85rem; }
        .equation-box { background: #fff; border-left: 5px solid #002366; padding: 15px; border-radius: 5px; }
    </style>
</head>
<body>

<div class="navbar text-center mb-5 shadow">
    <div class="container">
        <h2 class="mb-0">üöÄ Econometrics Analysis Pro</h2>
        <p class="mb-0 opacity-75">Multiple Regression with Trend Line & Equations</p>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-4 mb-4">
            <div class="card p-4">
                <form method="POST" enctype="multipart/form-data">
                    <h5 class="text-primary mb-3">1. ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Data)</h5>
                    <label class="small text-muted mb-2">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå Excel (.xlsx)</label>
                    <input type="file" name="file" class="form-control mb-4">
                    
                    {% if x_names %}
                    <h5 class="text-primary mb-3">2. ‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå (Prediction)</h5>
                    <p class="small text-muted">‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤ {{ x_names | length }} ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏Ñ‡πà‡∏≤ {{ y_name }}:</p>
                    {% for x in x_names %}
                    <div class="mb-2">
                        <label class="small fw-bold">{{ x }}</label>
                        <input type="number" step="any" name="x_input_{{ loop.index0 }}" class="form-control form-control-sm" required>
                    </div>
                    {% endfor %}
                    {% endif %}
                    
                    <button type="submit" class="btn btn-analyze w-100 mt-3 py-2 shadow-sm">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                </form>

                {% if prediction %}
                <div class="mt-4 p-3 bg-success bg-opacity-10 border border-success rounded text-center">
                    <small class="text-success d-block fw-bold">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡πà‡∏≤ {{ y_name }}:</small>
                    <h3 class="text-success mb-0 font-monospace">{{ "{:,.4f}".format(prediction) }}</h3>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="col-lg-8">
            {% if plot_url %}
            <div class="card p-4 mb-4">
                <h5 class="border-bottom pb-2 mb-4 text-primary font-weight-bold">Regression Visualization (Trend Lines)</h5>
                <div class="text-center">
                    <img src="data:image/png;base64,{{ plot_url }}" class="img-fluid rounded border shadow-sm mb-3">
                    <p class="small text-muted fst-italic">* ‡πÄ‡∏™‡πâ‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÅ‡∏™‡∏î‡∏á Trend Line ‡πÅ‡∏•‡∏∞‡∏™‡∏°‡∏Å‡∏≤‡∏£ Regression ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏π‡πà‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞</p>
                </div>
            </div>

            <div class="card p-4 mb-4 text-center">
                 <h5 class="border-bottom pb-2 mb-4 text-primary">Regression Statistics (OLS Summary)</h5>
                <div class="table-responsive">
                    {{ regression_table | safe }}
                </div>
            </div>
            {% else %}
            <div class="card p-5 text-center bg-white border-dashed shadow-sm">
                <h3 class="text-muted">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!</h3>
                <p class="text-muted mb-0">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå Excel ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏≤‡∏á‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏°‡∏¥‡∏ï‡∏¥</p>
                <hr>
                <div class="text-start small">
                    <p class="fw-bold mb-1">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</p>
                    <ul>
                        <li>‡∏´‡∏±‡∏ß‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <strong>"X"</strong> (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞) ‡πÅ‡∏•‡∏∞ <strong>"Y"</strong> (‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏°)</li>
                        <li>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 3 ‡∏ï‡∏±‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ</li>
                        <li>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ Constant (Intercept) ‡πÉ‡∏´‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
                    </ul>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<footer class="text-center mt-5 mb-4 text-muted small">
    ¬© 2026 Econometrics Insight Pro | ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Flask & Statsmodels
</footer>

</body>
</html>
